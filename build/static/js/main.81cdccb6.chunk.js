(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{204:function(e,t,a){e.exports=a(408)},390:function(e,t,a){},406:function(e,t,a){},408:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(200),i=a.n(c),s=a(8),l=a(13),o=a(203),u=a(24),m=a(58);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d=a(17),p=a(18),h=a(20),E=a(19),f=a(21),b=a(411),O=a(413),N=a(409),v=a(412),g=a(44),j=a.n(g),C=function(e){return r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"card z-depth-0"},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"},"Notifications"),r.a.createElement("ul",{className:"notifications"},e.notifications&&e.notifications.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("span",{className:"pink-text"},e.user," "),r.a.createElement("span",null,e.content),r.a.createElement("div",{className:"grey-text note-date"},j()(e.time.toDate()).fromNow()))})))))},R=function(e){var t=e.project;return r.a.createElement("div",{className:"project-list section"},r.a.createElement("div",{className:"card z-depth-0 project-summary"},r.a.createElement("div",{className:"card-content grey-text text-darken-3"},r.a.createElement("span",{className:"card-title"}," ",t.title),r.a.createElement("p",null,"Posted by ",t.authFirstName," ",t.authLastName),r.a.createElement("p",{className:"grey-text"},j()(t.createdAt.toDate()).calendar()))))},S=a(386),y=function(e){var t=e.projects;return r.a.createElement("div",{className:"project-list section"},t&&t.map(function(e){return r.a.createElement(S.a,{to:"/projects/"+e.id,key:e.id},r.a.createElement(R,{project:e}))}))},w=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.projects,a=e.auth,n=e.notifications;return a.uid?r.a.createElement("div",{className:"dashboard container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m6"}," ",r.a.createElement(y,{projects:t})),r.a.createElement("div",{className:"col s12 m5 offset-m1"},r.a.createElement(C,{notifications:n})))):r.a.createElement(v.a,{to:"./signin/"})}}]),t}(n.Component),T=Object(l.d)(Object(s.b)(function(e){return console.log(e),{auth:e.firebase.auth,projects:e.firestore.ordered.projects,notifications:e.firestore.ordered.notifications}}),Object(u.firestoreConnect)([{collection:"projects",orderBy:["createdAt","desc"]},{collection:"notifications",limit:5,orderBy:["time","desc"]}]))(w),I=a(410),x=a(22),A=a.n(x),_=a(45),U={ACTION:{LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_ERROR:"LOGIN_ERRRR",LOGOUT_SUCCESS:"LOGOUT_SUCCESS",LOGOUT_ERROR:"LOGOUT_ERROR",CREATE_PROJECT:"CREATE_PROJECT",CREATE_PROJECT_ERROR:"CREATE_PROJECT_ERROR",SIGNUP_SUCCESS:"SIGNUP_SUCCESS",SIGNUP_ERROR:"SIGNUP_ERROR"}},k=Object(s.b)(null,function(e){return{signOut:function(){return e(function(){var e=Object(_.a)(A.a.mark(function e(t,a,n){var r,c;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getFirebase,e.prev=1,c=r(),e.next=5,c.auth().signOut();case 5:t({type:U.ACTION.LOGOUT_SUCCESS}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:U.ACTION.LOGOUT_ERROR,error:"Logout Failed."});case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t,a,n){return e.apply(this,arguments)}}())}}})(function(e){var t=e.signOut,a=e.profile;return r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(I.a,{to:"/create"},"New Project")),r.a.createElement("li",null,r.a.createElement("a",{onClick:t},"Logout")),r.a.createElement("li",null,r.a.createElement(I.a,{to:"/",className:"btn btn-floating pink lighten-1"},a.initials)))}),F=function(){return r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(I.a,{to:"/signup"},"SignUp")),r.a.createElement("li",null,r.a.createElement(I.a,{to:"/signin"},"Login")))},P=Object(s.b)(function(e){return{profile:e.firebase.profile,auth:e.firebase.auth}})(function(e){var t=e.auth,a=e.profile,n=t.uid?r.a.createElement(k,{profile:a}):r.a.createElement(F,null);return r.a.createElement("nav",{className:"nav-wrapper grey darken-3"},r.a.createElement("div",{className:"container"},r.a.createElement(S.a,{to:"/",className:"brand-logo"},"Raviteja App"),n))}),G=Object(l.d)(Object(s.b)(function(e,t){var a=t.match.params.id,n=e.firestore.data.projects;return{auth:e.firebase.auth,project:n?n[a]:null}}),Object(u.firestoreConnect)([{collection:"projects"}]))(function(e){var t=e.project;return e.auth.uid?t?r.a.createElement("div",{className:"container section project-details"},r.a.createElement("div",{className:"card z-depth-0"},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"},t.title," - ",t.id),r.a.createElement("p",null,t.content)),r.a.createElement("div",{className:"card-action grey lighten-4 grey-text"},r.a.createElement("div",null,"Posted by ",t.authFirstName," ",t.authLastName),r.a.createElement("div",null,j()(t.createdAt.toDate()).calendar())))):r.a.createElement("div",{className:"container center"}," Project loading..."):r.a.createElement(v.a,{to:"./../signin/"})}),L=a(29),z=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleChange=function(e){a.setState(Object(L.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signIn(a.state)},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?r.a.createElement(v.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"white",onSubmit:this.handleSubmit},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign In"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Login"),t?r.a.createElement("div",{className:"red-text center"},r.a.createElement("p",null,t)):null)))}}]),t}(n.Component),J=Object(s.b)(function(e){return{auth:e.firebase.auth,authError:e.auth.authError}},function(e){return{signIn:function(t){return e((a=t,function(){var e=Object(_.a)(A.a.mark(function e(t,n,r){var c,i;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.getFirebase,e.prev=1,i=c(),e.next=5,i.auth().signInWithEmailAndPassword(a.email,a.password);case 5:t({type:U.ACTION.LOGIN_SUCCESS}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:U.ACTION.LOGIN_ERROR,error:"Login Failed."});case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t,a,n){return e.apply(this,arguments)}}()));var a}}})(z),D=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",firstName:"",lastName:""},a.handleChange=function(e){a.setState(Object(L.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signUp(a.state)},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return t.uid?r.a.createElement(v.a,{to:"./"}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"white",onSubmit:this.handleSubmit},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Register"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",id:"firstName",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",id:"lastName",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Sign Up"),a?r.a.createElement("div",{className:"red-text center"},r.a.createElement("p",null,a)):null)))}}]),t}(n.Component),B=Object(s.b)(function(e){return{authError:e.auth.authError,auth:e.firebase.auth}},function(e){return{signUp:function(t){return e(function(e){return function(){var t=Object(_.a)(A.a.mark(function t(a,n,r){var c,i,s,l,o;return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=r.getFirebase,i=r.getFirestore,t.prev=1,s=c(),l=i(),t.next=6,s.auth().createUserWithEmailAndPassword(e.email,e.password);case 6:return o=t.sent,t.next=9,l.collection("users").doc(o.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0]});case 9:a({type:U.ACTION.SIGNUP_SUCCESS}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),a({type:U.ACTION.SIGNUP_ERROR,error:t.t0});case 15:case"end":return t.stop()}},t,this,[[1,12]])}));return function(e,a,n){return t.apply(this,arguments)}}()}(t))}}})(D),W=a(37),H=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",content:""},a.handleChange=function(e){a.setState(Object(L.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.createProject(a.state),a.props.history.push("/")},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.props.auth.uid?r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"white",onSubmit:this.handleSubmit},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Create New Project"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",id:"title",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"content"},"content"),r.a.createElement("textarea",{id:"content",className:"materialize-textarea",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Create")))):r.a.createElement(v.a,{to:"./../signin/"})}}]),t}(n.Component),M=Object(s.b)(function(e){return{auth:e.firebase.auth}},function(e){return{createProject:function(t){return e(function(e){return function(){var t=Object(_.a)(A.a.mark(function t(a,n,r){var c,i,s,l;return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.getFirebase,c=r.getFirestore,i=n().firebase.auth.uid,s=n().firebase.profile,l=c(),t.prev=4,t.next=7,l.collection("projects").add(Object(W.a)({},e,{authFirstName:s.firstName,authLastName:s.lastName,uid:i,createdAt:new Date}));case 7:a({type:U.ACTION.CREATE_PROJECT,project:e}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),a({type:U.ACTION.CREATE_PROJECT_ERROR,error:t.t0});case 13:case"end":return t.stop()}},t,this,[[4,10]])}));return function(e,a,n){return t.apply(this,arguments)}}()}(t))}}})(H),X=(a(390),function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,null,r.a.createElement("div",{className:"FirebaseReduxApp"},r.a.createElement(P,null),r.a.createElement(O.a,null,r.a.createElement(N.a,{exact:!0,path:"/",component:T}),r.a.createElement(N.a,{path:"/projects/:id",component:G}),r.a.createElement(N.a,{path:"/signin",component:J}),r.a.createElement(N.a,{path:"/signup",component:B}),r.a.createElement(N.a,{path:"/create",component:M}))))}}]),t}(n.Component)),K={authError:null},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U.ACTION.LOGIN_SUCCESS:return Object(W.a)({},e,{authError:null});case U.ACTION.LOGIN_ERROR:return Object(W.a)({},e,{authError:t.error});case U.ACTION.LOGOUT_SUCCESS:case U.ACTION.LOGOUT_ERROR:return e;case U.ACTION.SIGNUP_SUCCESS:return Object(W.a)({},e,{authError:null});case U.ACTION.SIGNUP_ERROR:return Object(W.a)({},e,{authError:t.error.message});default:return e}},$={projects:[{id:1,title:"Happy Bday",content:"fafdsasfafsfcvzvzvzzxvzvzvvzv",createdAt:"24th Jan, 2019"},{id:2,title:"Get Together",content:"treteteteegdfgjnyhgb",createdAt:"2nd Mar, 2019"}]},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U.ACTION.CREATE_PROJECT:return console.log(t.project),e;case U.ACTION.CREATE_PROJECT_ERROR:return console.log("Error",t.error),e;default:return e}},Q=Object(l.c)({auth:Z,project:q,firestore:m.firestoreReducer,firebase:u.firebaseReducer}),V=a(84),Y=a.n(V);a(399),a(404);Y.a.initializeApp({apiKey:"AIzaSyD8MXZaXuSp53gH5N7E14GTvoTU3Njv_R0",authDomain:"reactreduxfirebase-bc501.firebaseapp.com",databaseURL:"https://reactreduxfirebase-bc501.firebaseio.com",projectId:"reactreduxfirebase-bc501",storageBucket:"reactreduxfirebase-bc501.appspot.com",messagingSenderId:"30194089459"}),Y.a.firestore().settings({timestampsInSnapshots:!0});var ee=Y.a,te=(a(406),Object(l.e)(Q,Object(l.d)(Object(l.a)(o.a.withExtraArgument({getFirebase:u.getFirebase,getFirestore:m.getFirestore})),Object(u.reactReduxFirebase)(ee,{attachAuthIsReady:!0,useFirestoreForProfile:!0,userProfile:"users"}),Object(m.reduxFirestore)(ee))));te.firebaseAuthIsReady.then(function(){i.a.render(r.a.createElement(s.a,{store:te},r.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})})}},[[204,2,1]]]);
//# sourceMappingURL=main.81cdccb6.chunk.js.map